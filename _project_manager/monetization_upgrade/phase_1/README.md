# Phase 1: Core System

**‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢:** ‡∏™‡∏£‡πâ‡∏≤‡∏á MiRO ID, Daily Free AI, ‡πÅ‡∏•‡∏∞ Streak Tier System  
**‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤:** 2 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå (14 ‡∏ß‡∏±‡∏ô)  
**‡∏ó‡∏≥‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß:** ‚ùå

---

## üìã Task List (‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö)

| Task | ‡∏ä‡∏∑‡πà‡∏≠ | ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥ | ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ |
|------|------|--------------|---------|-------|
| 1 | Firestore Schema & Migration | `TASK_1_SCHEMA.md` | 2 ‡∏ß‡∏±‡∏ô | ‚¨ú |
| 2 | MiRO ID System (Backend) | `TASK_2_MIRO_BACKEND.md` | 2 ‡∏ß‡∏±‡∏ô | ‚¨ú |
| 3 | Free AI Logic (Backend) | `TASK_3_FREE_AI.md` | 2 ‡∏ß‡∏±‡∏ô | ‚¨ú |
| 4 | Streak Tier System (Backend) | `TASK_4_STREAK.md` | 2 ‡∏ß‡∏±‡∏ô | ‚¨ú |
| 5 | Flutter Client Updates | `TASK_5_FLUTTER.md` | 3 ‡∏ß‡∏±‡∏ô | ‚¨ú |
| 6 | Backup System Update | `TASK_6_BACKUP.md` | 1 ‡∏ß‡∏±‡∏ô | ‚¨ú |
| 7 | Testing & Verification | `TASK_7_TESTING.md` | 2 ‡∏ß‡∏±‡∏ô | ‚¨ú |

---

## üéØ Deliverables ‡∏Ç‡∏≠‡∏á Phase 1

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ó‡∏≥ Phase 1 ‡πÄ‡∏™‡∏£‡πá‡∏à ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ:

### Backend (Cloud Functions)
- ‚úÖ `registerUser` ‚Äî ‡∏™‡∏£‡πâ‡∏≤‡∏á user + MiRO ID
- ‚úÖ `claimDailyCheckIn` ‚Äî Streak + Tier logic
- ‚úÖ `analyzeFood` (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç) ‚Äî Free AI logic
- ‚úÖ `syncBalance` (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç) ‚Äî Return MiRO ID
- ‚úÖ `transferKey` (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç) ‚Äî Transfer MiRO ID

### Firestore
- ‚úÖ Collection: `users/{deviceId}` (‡πÅ‡∏ó‡∏ô `energy_balances`)
- ‚úÖ Document: `config/rewards`
- ‚úÖ Document: `config/features`
- ‚úÖ Collection: `transactions/{txId}`

### Flutter
- ‚úÖ MiRO ID display ‡πÉ‡∏ô Profile
- ‚úÖ Free AI indicator
- ‚úÖ Streak display + Tier badge
- ‚úÖ Daily check-in (automatic)
- ‚úÖ Backup/Restore ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö MiRO ID

---

## üö® ‡∏™‡∏¥‡πà‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°

### 1. ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å‡∏Å‡πà‡∏≠‡∏ô
```bash
# ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡∏Å‡πà‡∏≠‡∏ô:
monetization_upgrade/README.md
```

### 2. Environment Setup
```bash
# ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ:
- Node.js v18+
- Flutter SDK 3.x
- Firebase CLI
- Git

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies:
cd functions
npm install
```

### 3. Firebase Project
```bash
# ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏π‡πâ:
- Project ID: miro-d6856
- Region: us-central1
- Firestore: Native mode
```

---

## üìù ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ

1. **‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå TASK_X ‡πÅ‡∏ï‡πà‡∏•‡∏∞ task** ‚Äî ‡∏°‡∏µ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á
2. **‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö** ‚Äî Task 1 ‚Üí 2 ‚Üí 3 ‚Üí ... ‚Üí 7
3. **Check ‚úÖ ‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô** ‚Äî ‡πÅ‡∏ï‡πà‡∏•‡∏∞ task ‡∏°‡∏µ checklist
4. **Test ‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡∏ï‡πà‡∏≠** ‚Äî ‡∏ï‡πâ‡∏≠‡∏á test ‡πÉ‡∏´‡πâ‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥ task ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
5. **‡∏ñ‡πâ‡∏≤‡∏ï‡∏¥‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤** ‚Äî ‡∏≠‡πà‡∏≤‡∏ô "‚ö†Ô∏è Common Issues" ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞ task

---

## üîç Quick Reference

### Task Dependencies
```
Task 1 (Schema)
  ‚Üì
Task 2 (MiRO ID) ‚Üê‚îÄ‚îÄ‚îÄ‚îê
  ‚Üì                  ‚îÇ
Task 3 (Free AI)     ‚îÇ
  ‚Üì                  ‚îÇ
Task 4 (Streak)      ‚îÇ
  ‚Üì                  ‚îÇ
Task 5 (Flutter) ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
  ‚Üì
Task 6 (Backup)
  ‚Üì
Task 7 (Testing)
```

### ‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£
- **Fast track:** 10 ‡∏ß‡∏±‡∏ô (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤)
- **Normal:** 14 ‡∏ß‡∏±‡∏ô (‡∏°‡∏µ‡πÄ‡∏ß‡∏•‡∏≤ test ‡∏î‡∏µ‡πÜ)
- **With issues:** 18-20 ‡∏ß‡∏±‡∏ô (‡∏ñ‡πâ‡∏≤‡πÄ‡∏à‡∏≠ bug ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≠‡∏ö)

---

## üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠/‡∏ñ‡∏≤‡∏°‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°

‡∏ñ‡πâ‡∏≤‡∏ï‡∏¥‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡πÉ‡∏à:
1. ‡∏≠‡πà‡∏≤‡∏ô "Common Issues" ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞ task ‡∏Å‡πà‡∏≠‡∏ô
2. ‡∏î‡∏π example code ‡πÉ‡∏ô task file
3. ‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡∏°‡∏´‡∏£‡∏∑‡∏≠ senior dev

**‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:** ‡∏≠‡∏¢‡πà‡∏≤‡∏Å‡∏•‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ñ‡∏≤‡∏°‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°! ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡∏ú‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á

---

## ‚úÖ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡πÄ‡∏™‡∏£‡πá‡∏à Phase 1

‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏õ Phase 2 ‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤:

```bash
‚ñ° User ‡πÉ‡∏´‡∏°‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏î‡πâ MiRO ID + 100 Energy
‚ñ° User ‡πÉ‡∏ä‡πâ AI ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ü‡∏£‡∏µ (‡πÑ‡∏°‡πà‡∏´‡∏±‡∏Å energy)
‚ñ° User ‡πÉ‡∏ä‡πâ AI ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 2+ ‡∏´‡∏±‡∏Å energy ‡∏õ‡∏Å‡∏ï‡∏¥
‚ñ° Streak ‡∏ô‡∏±‡∏ö‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (Day 7 ‚Üí Bronze, Day 14 ‚Üí Silver)
‚ñ° Grace period ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (Silver ‡∏´‡∏¢‡∏∏‡∏î 1 ‡∏ß‡∏±‡∏ô‡∏¢‡∏±‡∏á streak ‡πÑ‡∏î‡πâ)
‚ñ° Backup/Restore ‡∏¢‡πâ‡∏≤‡∏¢ MiRO ID ‡πÑ‡∏î‡πâ
‚ñ° ‡∏ó‡∏∏‡∏Å Cloud Function deploy ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
‚ñ° ‡πÑ‡∏°‡πà‡∏°‡∏µ linter errors
‚ñ° Test ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ú‡πà‡∏≤‡∏ô
```

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡πá‡∏Ñ‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡πÑ‡∏õ **Phase 2** ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢! üéâ
