# Step 20: Health Lab Results

> **‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:** Junior Developer
> **‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì:** 3-4 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á
> **‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å:** ‡∏¢‡∏≤‡∏Å
> **‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Å‡πà‡∏≠‡∏ô:** Step 19 (Other Health Tab)
> **‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á:** `_project_manager/HEALTH_FEATURE_DESIGN.md`

---

## üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢

- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÅ‡∏ö‡∏ö open-ended (‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)
- ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à ‚Üí AI ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤
- ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Ñ‡πà‡∏≤‡∏Ç‡πâ‡∏≤‡∏°‡∏Ñ‡∏£‡∏±‡πâ‡∏á
- ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°

---

## üîë Key Concept

```
‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏Ñ‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô
- ‡∏ö‡∏≤‡∏á‡∏Ñ‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (CBC, Lipid Profile)
- ‡∏ö‡∏≤‡∏á‡∏Ñ‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î (Tumor Markers, Hormones)
- ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô!

‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ: Open-ended key-value pairs
- AI ‡∏≠‡πà‡∏≤‡∏ô‡∏£‡∏π‡∏õ ‚Üí ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ
- ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡∏≤‡∏ô ‚Üí ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô
- ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô = ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏¢‡∏Å ‚Üí merge ‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ
```

---

## ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥

1. ‡∏™‡∏£‡πâ‡∏≤‡∏á LabSession Model
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á LabItem Model
3. ‡∏™‡∏£‡πâ‡∏≤‡∏á Lab Provider
4. ‡∏™‡∏£‡πâ‡∏≤‡∏á Lab Tab UI
5. ‡∏™‡∏£‡πâ‡∏≤‡∏á Lab Session Detail Screen
6. ‡∏™‡∏£‡πâ‡∏≤‡∏á Add Lab Result Screen
7. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á LabSession Model

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå:** `lib/features/health/models/lab_session.dart`

```dart
import 'package:isar/isar.dart';

part 'lab_session.g.dart';

/// ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û
@collection
class LabSession {
  Id id = Isar.autoIncrement;

  /// ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à
  late DateTime date;

  /// ‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•/‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å
  String? location;

  /// ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ ‡πÄ‡∏ä‡πà‡∏ô "‡∏ï‡∏£‡∏ß‡∏à‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ", "‡∏ï‡∏£‡∏ß‡∏à Lipid"
  String? title;

  /// ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏
  String? notes;

  /// ‡∏£‡∏π‡∏õ‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à (path)
  String? imagePath;

  /// ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à
  int itemCount = 0;

  late DateTime createdAt;
  DateTime? updatedAt;
}
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á LabItem Model

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå:** `lib/features/health/models/lab_item.dart`

```dart
import 'package:isar/isar.dart';

part 'lab_item.g.dart';

/// ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡πà‡∏≤
@collection
class LabItem {
  Id id = Isar.autoIncrement;

  /// ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á LabSession
  late int sessionId;

  /// ‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ/‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏™‡πà)
  late String name;

  /// ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏î‡πÑ‡∏î‡πâ (‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏õ‡πá‡∏ô String ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ö‡∏≤‡∏á‡∏ó‡∏µ‡∏°‡∏µ range)
  late String value;

  /// ‡∏´‡∏ô‡πà‡∏ß‡∏¢
  String? unit;

  /// ‡∏Ñ‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÄ‡∏ä‡πà‡∏ô "70-100", "<200"
  String? normalRange;

  /// ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
  @enumerated
  LabItemStatus status = LabItemStatus.normal;

  /// ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏
  String? notes;

  late DateTime createdAt;
}

enum LabItemStatus {
  normal,
  high,
  low,
  critical,
  unknown,
}

extension LabItemStatusExtension on LabItemStatus {
  String get emoji {
    switch (this) {
      case LabItemStatus.normal: return '‚úÖ';
      case LabItemStatus.high: return '‚¨ÜÔ∏è';
      case LabItemStatus.low: return '‚¨áÔ∏è';
      case LabItemStatus.critical: return '‚ö†Ô∏è';
      case LabItemStatus.unknown: return '‚ùì';
    }
  }

  String get displayName {
    switch (this) {
      case LabItemStatus.normal: return '‡∏õ‡∏Å‡∏ï‡∏¥';
      case LabItemStatus.high: return '‡∏™‡∏π‡∏á';
      case LabItemStatus.low: return '‡∏ï‡πà‡∏≥';
      case LabItemStatus.critical: return '‡∏ß‡∏¥‡∏Å‡∏§‡∏ï';
      case LabItemStatus.unknown: return '‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö';
    }
  }
}
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Database Service

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå:** `lib/core/database/database_service.dart`

**‡πÄ‡∏û‡∏¥‡πà‡∏° imports:**

```dart
import '../../features/health/models/lab_session.dart';
import '../../features/health/models/lab_item.dart';
```

**‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô schemas:**

```dart
LabSessionSchema,
LabItemSchema,
```

**‡πÄ‡∏û‡∏¥‡πà‡∏° getters:**

```dart
static IsarCollection<LabSession> get labSessions => _isar!.labSessions;
static IsarCollection<LabItem> get labItems => _isar!.labItems;
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡∏£‡∏±‡∏ô Build Runner

```bash
dart run build_runner build --delete-conflicting-outputs
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5: ‡∏™‡∏£‡πâ‡∏≤‡∏á Lab Provider

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå:** `lib/features/health/providers/lab_provider.dart`

```dart
import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:isar/isar.dart';
import '../../../core/database/database_service.dart';
import '../models/lab_session.dart';
import '../models/lab_item.dart';

// ============================================
// LAB SESSIONS
// ============================================

final labSessionsProvider = FutureProvider<List<LabSession>>((ref) async {
  return await DatabaseService.labSessions
      .where()
      .sortByDateDesc()
      .findAll();
});

final labSessionProvider = FutureProvider.family<LabSession?, int>((ref, id) async {
  return await DatabaseService.labSessions.get(id);
});

// ============================================
// LAB ITEMS
// ============================================

final labItemsProvider = FutureProvider.family<List<LabItem>, int>((ref, sessionId) async {
  return await DatabaseService.labItems
      .filter()
      .sessionIdEqualTo(sessionId)
      .sortByName()
      .findAll();
});

/// ‡∏î‡∏∂‡∏á history ‡∏Ç‡∏≠‡∏á item ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô (‡∏Ç‡πâ‡∏≤‡∏°‡∏Ñ‡∏£‡∏±‡πâ‡∏á)
final labItemHistoryProvider = FutureProvider.family<List<LabItemWithSession>, String>((ref, name) async {
  final items = await DatabaseService.labItems
      .filter()
      .nameEqualTo(name)
      .findAll();

  final result = <LabItemWithSession>[];
  for (final item in items) {
    final session = await DatabaseService.labSessions.get(item.sessionId);
    if (session != null) {
      result.add(LabItemWithSession(item: item, session: session));
    }
  }

  result.sort((a, b) => b.session.date.compareTo(a.session.date));
  return result;
});

class LabItemWithSession {
  final LabItem item;
  final LabSession session;

  LabItemWithSession({required this.item, required this.session});
}

// ============================================
// UNIQUE ITEM NAMES (for comparison)
// ============================================

final uniqueLabItemNamesProvider = FutureProvider<List<String>>((ref) async {
  final items = await DatabaseService.labItems.where().findAll();
  final names = items.map((i) => i.name).toSet().toList();
  names.sort();
  return names;
});

// ============================================
// LAB NOTIFIER
// ============================================

class LabNotifier extends StateNotifier<AsyncValue<void>> {
  final Ref ref;

  LabNotifier(this.ref) : super(const AsyncValue.data(null));

  /// ‡∏™‡∏£‡πâ‡∏≤‡∏á Lab Session ‡πÉ‡∏´‡∏°‡πà
  Future<LabSession> createSession({
    required DateTime date,
    String? title,
    String? location,
    String? notes,
    String? imagePath,
  }) async {
    final session = LabSession()
      ..date = date
      ..title = title ?? '‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à ${date.day}/${date.month}/${date.year}'
      ..location = location
      ..notes = notes
      ..imagePath = imagePath
      ..createdAt = DateTime.now();

    await DatabaseService.isar.writeTxn(() async {
      await DatabaseService.labSessions.put(session);
    });

    ref.invalidate(labSessionsProvider);
    return session;
  }

  /// ‡πÄ‡∏û‡∏¥‡πà‡∏° Lab Item
  Future<LabItem> addItem({
    required int sessionId,
    required String name,
    required String value,
    String? unit,
    String? normalRange,
    LabItemStatus status = LabItemStatus.unknown,
  }) async {
    final item = LabItem()
      ..sessionId = sessionId
      ..name = name
      ..value = value
      ..unit = unit
      ..normalRange = normalRange
      ..status = status
      ..createdAt = DateTime.now();

    await DatabaseService.isar.writeTxn(() async {
      await DatabaseService.labItems.put(item);

      // Update item count
      final session = await DatabaseService.labSessions.get(sessionId);
      if (session != null) {
        final count = await DatabaseService.labItems
            .filter()
            .sessionIdEqualTo(sessionId)
            .count();
        session.itemCount = count;
        await DatabaseService.labSessions.put(session);
      }
    });

    ref.invalidate(labItemsProvider(sessionId));
    ref.invalidate(uniqueLabItemNamesProvider);
    return item;
  }

  /// ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Lab Item
  Future<void> updateItem({
    required int itemId,
    String? name,
    String? value,
    String? unit,
    String? normalRange,
    LabItemStatus? status,
  }) async {
    await DatabaseService.isar.writeTxn(() async {
      final item = await DatabaseService.labItems.get(itemId);
      if (item != null) {
        if (name != null) item.name = name;
        if (value != null) item.value = value;
        if (unit != null) item.unit = unit;
        if (normalRange != null) item.normalRange = normalRange;
        if (status != null) item.status = status;
        await DatabaseService.labItems.put(item);
      }
    });

    ref.invalidate(labItemsProvider);
  }

  /// ‡∏•‡∏ö Lab Item
  Future<void> deleteItem(int itemId) async {
    final item = await DatabaseService.labItems.get(itemId);
    if (item == null) return;

    final sessionId = item.sessionId;

    await DatabaseService.isar.writeTxn(() async {
      await DatabaseService.labItems.delete(itemId);

      // Update item count
      final session = await DatabaseService.labSessions.get(sessionId);
      if (session != null) {
        final count = await DatabaseService.labItems
            .filter()
            .sessionIdEqualTo(sessionId)
            .count();
        session.itemCount = count;
        await DatabaseService.labSessions.put(session);
      }
    });

    ref.invalidate(labItemsProvider(sessionId));
  }

  /// ‡∏•‡∏ö Lab Session (‡πÅ‡∏•‡∏∞ items ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)
  Future<void> deleteSession(int sessionId) async {
    await DatabaseService.isar.writeTxn(() async {
      await DatabaseService.labItems
          .filter()
          .sessionIdEqualTo(sessionId)
          .deleteAll();
      await DatabaseService.labSessions.delete(sessionId);
    });

    ref.invalidate(labSessionsProvider);
  }
}

final labNotifierProvider =
    StateNotifierProvider<LabNotifier, AsyncValue<void>>((ref) {
  return LabNotifier(ref);
});
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 6: ‡∏™‡∏£‡πâ‡∏≤‡∏á Lab Tab UI

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå:** `lib/features/health/presentation/health_lab_tab.dart`

```dart
import 'package:flutter/material.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:intl/intl.dart';
import '../../../core/theme/app_colors.dart';
import '../providers/lab_provider.dart';
import '../models/lab_session.dart';
import 'lab_session_detail_screen.dart';
import 'add_lab_session_screen.dart';

class HealthLabTab extends ConsumerWidget {
  const HealthLabTab({super.key});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final sessionsAsync = ref.watch(labSessionsProvider);

    return Scaffold(
      body: sessionsAsync.when(
        loading: () => const Center(child: CircularProgressIndicator()),
        error: (e, _) => Center(child: Text('Error: $e')),
        data: (sessions) {
          if (sessions.isEmpty) {
            return _buildEmptyState(context);
          }

          return ListView.builder(
            padding: const EdgeInsets.all(16),
            itemCount: sessions.length + 1, // +1 for header
            itemBuilder: (context, index) {
              if (index == 0) {
                return _buildHeader(context);
              }
              return _buildSessionCard(context, ref, sessions[index - 1]);
            },
          );
        },
      ),
      floatingActionButton: FloatingActionButton.extended(
        onPressed: () => _navigateToAddSession(context),
        icon: const Icon(Icons.add),
        label: const Text('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à'),
      ),
    );
  }

  Widget _buildHeader(BuildContext context) {
    return Padding(
      padding: const EdgeInsets.only(bottom: 16),
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          const Text(
            'ü©∫ ‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û',
            style: TextStyle(
              fontSize: 20,
              fontWeight: FontWeight.bold,
            ),
          ),
          const SizedBox(height: 4),
          Text(
            '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì',
            style: TextStyle(
              color: AppColors.textSecondary,
            ),
          ),
        ],
      ),
    );
  }

  Widget _buildEmptyState(BuildContext context) {
    return Center(
      child: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          const Text('ü©∫', style: TextStyle(fontSize: 64)),
          const SizedBox(height: 16),
          const Text(
            '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û',
            style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
          ),
          const SizedBox(height: 8),
          Text(
            '‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á',
            style: TextStyle(color: AppColors.textSecondary),
          ),
          const SizedBox(height: 24),
          ElevatedButton.icon(
            icon: const Icon(Icons.add),
            label: const Text('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à‡πÅ‡∏£‡∏Å'),
            onPressed: () => _navigateToAddSession(context),
          ),
        ],
      ),
    );
  }

  Widget _buildSessionCard(BuildContext context, WidgetRef ref, LabSession session) {
    return Card(
      margin: const EdgeInsets.only(bottom: 12),
      child: InkWell(
        onTap: () => _navigateToDetail(context, session.id),
        borderRadius: BorderRadius.circular(12),
        child: Padding(
          padding: const EdgeInsets.all(16),
          child: Column(
            crossAxisAlignment: CrossAxisAlignment.start,
            children: [
              Row(
                children: [
                  Container(
                    padding: const EdgeInsets.all(8),
                    decoration: BoxDecoration(
                      color: AppColors.health.withOpacity(0.1),
                      borderRadius: BorderRadius.circular(8),
                    ),
                    child: const Text('ü©∫', style: TextStyle(fontSize: 20)),
                  ),
                  const SizedBox(width: 12),
                  Expanded(
                    child: Column(
                      crossAxisAlignment: CrossAxisAlignment.start,
                      children: [
                        Text(
                          session.title ?? '‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û',
                          style: const TextStyle(
                            fontWeight: FontWeight.bold,
                            fontSize: 16,
                          ),
                        ),
                        Text(
                          DateFormat('d MMMM yyyy', 'th').format(session.date),
                          style: TextStyle(
                            color: AppColors.textSecondary,
                            fontSize: 12,
                          ),
                        ),
                      ],
                    ),
                  ),
                  Column(
                    crossAxisAlignment: CrossAxisAlignment.end,
                    children: [
                      Text(
                        '${session.itemCount}',
                        style: const TextStyle(
                          fontWeight: FontWeight.bold,
                          fontSize: 18,
                        ),
                      ),
                      Text(
                        '‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£',
                        style: TextStyle(
                          color: AppColors.textSecondary,
                          fontSize: 10,
                        ),
                      ),
                    ],
                  ),
                ],
              ),
              if (session.location != null) ...[
                const SizedBox(height: 8),
                Row(
                  children: [
                    const Icon(Icons.location_on, size: 14, color: Colors.grey),
                    const SizedBox(width: 4),
                    Text(
                      session.location!,
                      style: TextStyle(
                        color: AppColors.textSecondary,
                        fontSize: 12,
                      ),
                    ),
                  ],
                ),
              ],
            ],
          ),
        ),
      ),
    );
  }

  void _navigateToDetail(BuildContext context, int sessionId) {
    Navigator.push(
      context,
      MaterialPageRoute(
        builder: (context) => LabSessionDetailScreen(sessionId: sessionId),
      ),
    );
  }

  void _navigateToAddSession(BuildContext context) {
    Navigator.push(
      context,
      MaterialPageRoute(
        builder: (context) => const AddLabSessionScreen(),
      ),
    );
  }
}
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 7: ‡∏™‡∏£‡πâ‡∏≤‡∏á Lab Session Detail Screen

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå:** `lib/features/health/presentation/lab_session_detail_screen.dart`

```dart
import 'package:flutter/material.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:intl/intl.dart';
import '../../../core/theme/app_colors.dart';
import '../providers/lab_provider.dart';
import '../models/lab_item.dart';

class LabSessionDetailScreen extends ConsumerWidget {
  final int sessionId;

  const LabSessionDetailScreen({super.key, required this.sessionId});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final sessionAsync = ref.watch(labSessionProvider(sessionId));
    final itemsAsync = ref.watch(labItemsProvider(sessionId));

    return Scaffold(
      appBar: AppBar(
        title: sessionAsync.when(
          data: (session) => Text(session?.title ?? '‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à'),
          loading: () => const Text('...'),
          error: (_, __) => const Text('Error'),
        ),
        actions: [
          IconButton(
            icon: const Icon(Icons.add),
            onPressed: () => _showAddItemDialog(context, ref),
          ),
        ],
      ),
      body: sessionAsync.when(
        loading: () => const Center(child: CircularProgressIndicator()),
        error: (e, _) => Center(child: Text('Error: $e')),
        data: (session) {
          if (session == null) {
            return const Center(child: Text('‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•'));
          }

          return Column(
            children: [
              // Session Info
              Container(
                width: double.infinity,
                padding: const EdgeInsets.all(16),
                color: AppColors.surfaceVariant,
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(
                      'üìÖ ${DateFormat('d MMMM yyyy', 'th').format(session.date)}',
                      style: const TextStyle(fontWeight: FontWeight.bold),
                    ),
                    if (session.location != null)
                      Text('üìç ${session.location}'),
                    if (session.notes != null)
                      Text('üìù ${session.notes}'),
                  ],
                ),
              ),

              // Items List
              Expanded(
                child: itemsAsync.when(
                  loading: () => const Center(child: CircularProgressIndicator()),
                  error: (e, _) => Center(child: Text('Error: $e')),
                  data: (items) {
                    if (items.isEmpty) {
                      return Center(
                        child: Column(
                          mainAxisAlignment: MainAxisAlignment.center,
                          children: [
                            const Text('üìã', style: TextStyle(fontSize: 48)),
                            const SizedBox(height: 8),
                            Text(
                              '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£',
                              style: TextStyle(color: AppColors.textSecondary),
                            ),
                            const SizedBox(height: 16),
                            ElevatedButton.icon(
                              icon: const Icon(Icons.add),
                              label: const Text('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£'),
                              onPressed: () => _showAddItemDialog(context, ref),
                            ),
                          ],
                        ),
                      );
                    }

                    return ListView.builder(
                      padding: const EdgeInsets.all(16),
                      itemCount: items.length,
                      itemBuilder: (context, index) {
                        return _buildItemCard(context, ref, items[index]);
                      },
                    );
                  },
                ),
              ),
            ],
          );
        },
      ),
    );
  }

  Widget _buildItemCard(BuildContext context, WidgetRef ref, LabItem item) {
    return Card(
      margin: const EdgeInsets.only(bottom: 8),
      child: ListTile(
        leading: Text(
          item.status.emoji,
          style: const TextStyle(fontSize: 24),
        ),
        title: Text(item.name),
        subtitle: Text(
          '${item.value} ${item.unit ?? ''}'.trim(),
          style: const TextStyle(
            fontWeight: FontWeight.bold,
            fontSize: 16,
          ),
        ),
        trailing: item.normalRange != null
            ? Text(
                '‡∏õ‡∏Å‡∏ï‡∏¥: ${item.normalRange}',
                style: TextStyle(
                  color: AppColors.textSecondary,
                  fontSize: 12,
                ),
              )
            : null,
        onTap: () => _showItemHistory(context, ref, item.name),
        onLongPress: () => _showItemOptions(context, ref, item),
      ),
    );
  }

  void _showAddItemDialog(BuildContext context, WidgetRef ref) {
    final nameController = TextEditingController();
    final valueController = TextEditingController();
    final unitController = TextEditingController();
    final rangeController = TextEditingController();
    LabItemStatus status = LabItemStatus.unknown;

    showDialog(
      context: context,
      builder: (context) => StatefulBuilder(
        builder: (context, setState) => AlertDialog(
          title: const Text('‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£'),
          content: SingleChildScrollView(
            child: Column(
              mainAxisSize: MainAxisSize.min,
              children: [
                TextField(
                  controller: nameController,
                  decoration: const InputDecoration(
                    labelText: '‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£',
                    hintText: '‡πÄ‡∏ä‡πà‡∏ô Cholesterol',
                    border: OutlineInputBorder(),
                  ),
                ),
                const SizedBox(height: 12),
                Row(
                  children: [
                    Expanded(
                      flex: 2,
                      child: TextField(
                        controller: valueController,
                        decoration: const InputDecoration(
                          labelText: '‡∏Ñ‡πà‡∏≤',
                          hintText: '195',
                          border: OutlineInputBorder(),
                        ),
                      ),
                    ),
                    const SizedBox(width: 8),
                    Expanded(
                      child: TextField(
                        controller: unitController,
                        decoration: const InputDecoration(
                          labelText: '‡∏´‡∏ô‡πà‡∏ß‡∏¢',
                          hintText: 'mg/dL',
                          border: OutlineInputBorder(),
                        ),
                      ),
                    ),
                  ],
                ),
                const SizedBox(height: 12),
                TextField(
                  controller: rangeController,
                  decoration: const InputDecoration(
                    labelText: '‡∏Ñ‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥ (optional)',
                    hintText: '<200',
                    border: OutlineInputBorder(),
                  ),
                ),
                const SizedBox(height: 12),
                DropdownButtonFormField<LabItemStatus>(
                  value: status,
                  decoration: const InputDecoration(
                    labelText: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞',
                    border: OutlineInputBorder(),
                  ),
                  items: LabItemStatus.values.map((s) {
                    return DropdownMenuItem(
                      value: s,
                      child: Text('${s.emoji} ${s.displayName}'),
                    );
                  }).toList(),
                  onChanged: (v) {
                    if (v != null) setState(() => status = v);
                  },
                ),
              ],
            ),
          ),
          actions: [
            TextButton(
              onPressed: () => Navigator.pop(context),
              child: const Text('‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å'),
            ),
            ElevatedButton(
              onPressed: () async {
                if (nameController.text.isEmpty || valueController.text.isEmpty) {
                  return;
                }

                await ref.read(labNotifierProvider.notifier).addItem(
                      sessionId: sessionId,
                      name: nameController.text,
                      value: valueController.text,
                      unit: unitController.text.isEmpty ? null : unitController.text,
                      normalRange: rangeController.text.isEmpty ? null : rangeController.text,
                      status: status,
                    );

                if (context.mounted) Navigator.pop(context);
              },
              child: const Text('‡πÄ‡∏û‡∏¥‡πà‡∏°'),
            ),
          ],
        ),
      ),
    );
  }

  void _showItemHistory(BuildContext context, WidgetRef ref, String name) {
    // TODO: Navigate to history screen or show bottom sheet
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(content: Text('‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ "$name"')),
    );
  }

  void _showItemOptions(BuildContext context, WidgetRef ref, LabItem item) {
    showModalBottomSheet(
      context: context,
      builder: (context) => SafeArea(
        child: Column(
          mainAxisSize: MainAxisSize.min,
          children: [
            ListTile(
              leading: const Icon(Icons.history),
              title: const Text('‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥'),
              onTap: () {
                Navigator.pop(context);
                _showItemHistory(context, ref, item.name);
              },
            ),
            ListTile(
              leading: const Icon(Icons.edit),
              title: const Text('‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç'),
              onTap: () {
                Navigator.pop(context);
                // TODO: Show edit dialog
              },
            ),
            ListTile(
              leading: const Icon(Icons.delete, color: Colors.red),
              title: const Text('‡∏•‡∏ö', style: TextStyle(color: Colors.red)),
              onTap: () async {
                Navigator.pop(context);
                await ref.read(labNotifierProvider.notifier).deleteItem(item.id);
              },
            ),
          ],
        ),
      ),
    );
  }
}
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 8: ‡∏™‡∏£‡πâ‡∏≤‡∏á Add Lab Session Screen

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå:** `lib/features/health/presentation/add_lab_session_screen.dart`

```dart
import 'package:flutter/material.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:intl/intl.dart';
import '../../../core/theme/app_colors.dart';
import '../providers/lab_provider.dart';
import 'lab_session_detail_screen.dart';

class AddLabSessionScreen extends ConsumerStatefulWidget {
  const AddLabSessionScreen({super.key});

  @override
  ConsumerState<AddLabSessionScreen> createState() => _AddLabSessionScreenState();
}

class _AddLabSessionScreenState extends ConsumerState<AddLabSessionScreen> {
  final _titleController = TextEditingController();
  final _locationController = TextEditingController();
  final _notesController = TextEditingController();
  DateTime _selectedDate = DateTime.now();

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: const Text('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û'),
      ),
      body: SingleChildScrollView(
        padding: const EdgeInsets.all(16),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            // Date Picker
            const Text(
              'üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à',
              style: TextStyle(fontWeight: FontWeight.bold),
            ),
            const SizedBox(height: 8),
            InkWell(
              onTap: _pickDate,
              child: Container(
                padding: const EdgeInsets.all(16),
                decoration: BoxDecoration(
                  border: Border.all(color: Colors.grey),
                  borderRadius: BorderRadius.circular(8),
                ),
                child: Row(
                  children: [
                    const Icon(Icons.calendar_today),
                    const SizedBox(width: 12),
                    Text(
                      DateFormat('d MMMM yyyy', 'th').format(_selectedDate),
                      style: const TextStyle(fontSize: 16),
                    ),
                  ],
                ),
              ),
            ),
            const SizedBox(height: 16),

            // Title
            TextField(
              controller: _titleController,
              decoration: const InputDecoration(
                labelText: '‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠',
                hintText: '‡πÄ‡∏ä‡πà‡∏ô ‡∏ï‡∏£‡∏ß‡∏à‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ, ‡∏ï‡∏£‡∏ß‡∏à Lipid',
                border: OutlineInputBorder(),
              ),
            ),
            const SizedBox(height: 16),

            // Location
            TextField(
              controller: _locationController,
              decoration: const InputDecoration(
                labelText: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà (optional)',
                hintText: '‡πÄ‡∏ä‡πà‡∏ô ‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• XYZ',
                border: OutlineInputBorder(),
                prefixIcon: Icon(Icons.location_on),
              ),
            ),
            const SizedBox(height: 16),

            // Notes
            TextField(
              controller: _notesController,
              maxLines: 3,
              decoration: const InputDecoration(
                labelText: '‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ (optional)',
                border: OutlineInputBorder(),
              ),
            ),
            const SizedBox(height: 24),

            // Photo option (TODO)
            Card(
              child: ListTile(
                leading: const Icon(Icons.camera_alt),
                title: const Text('‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à'),
                subtitle: const Text('AI ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥'),
                trailing: const Icon(Icons.chevron_right),
                onTap: () {
                  // TODO: Implement photo capture + AI analysis
                  ScaffoldMessenger.of(context).showSnackBar(
                    const SnackBar(content: Text('‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤')),
                  );
                },
              ),
            ),
            const SizedBox(height: 24),

            // Submit Button
            SizedBox(
              width: double.infinity,
              child: ElevatedButton(
                onPressed: _createSession,
                child: const Padding(
                  padding: EdgeInsets.all(16),
                  child: Text('‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£'),
                ),
              ),
            ),
          ],
        ),
      ),
    );
  }

  Future<void> _pickDate() async {
    final picked = await showDatePicker(
      context: context,
      initialDate: _selectedDate,
      firstDate: DateTime(2000),
      lastDate: DateTime.now(),
    );

    if (picked != null) {
      setState(() => _selectedDate = picked);
    }
  }

  Future<void> _createSession() async {
    final session = await ref.read(labNotifierProvider.notifier).createSession(
          date: _selectedDate,
          title: _titleController.text.isEmpty ? null : _titleController.text,
          location: _locationController.text.isEmpty ? null : _locationController.text,
          notes: _notesController.text.isEmpty ? null : _notesController.text,
        );

    if (mounted) {
      // Navigate to detail screen to add items
      Navigator.pushReplacement(
        context,
        MaterialPageRoute(
          builder: (context) => LabSessionDetailScreen(sessionId: session.id),
        ),
      );
    }
  }
}
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 9: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Health Page

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå:** `lib/features/health/presentation/health_page.dart`

**‡πÄ‡∏û‡∏¥‡πà‡∏° import ‡πÅ‡∏•‡∏∞ tab:**

```dart
import 'health_lab_tab.dart';

// ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç TabBar ‡πÉ‡∏´‡πâ‡∏°‡∏µ Lab tab
TabBar(
  controller: _tabController,
  isScrollable: true,  // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏°‡∏µ 5 tabs
  tabs: const [
    Tab(text: 'Timeline'),
    Tab(text: 'Diet'),
    Tab(text: 'Workout'),
    Tab(text: 'Other'),
    Tab(text: 'Lab'),    // ‡πÄ‡∏û‡∏¥‡πà‡∏°
  ],
),

// TabBarView
TabBarView(
  controller: _tabController,
  children: const [
    HealthTimelineTab(),
    HealthDietTab(),
    HealthWorkoutTab(),
    HealthOtherTab(),
    HealthLabTab(),      // ‡πÄ‡∏û‡∏¥‡πà‡∏°
  ],
),
```

**‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡πÅ‡∏Å‡πâ `TabController` length ‡πÄ‡∏õ‡πá‡∏ô 5:**

```dart
_tabController = TabController(length: 5, vsync: this);
```

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 10: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö

```bash
flutter run
```

### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö:

1. **Health ‚Üí Lab tab**
2. **‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à‡πÉ‡∏´‡∏°‡πà** - ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° + 
3. **‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£** - ‡πÄ‡∏û‡∏¥‡πà‡∏° Cholesterol, FBS, etc.
4. **‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î** - ‡∏Å‡∏î‡∏ó‡∏µ‡πà session
5. **‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£** - ‡∏Å‡∏î‡∏Ñ‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà item

---

## ‚úÖ Checklist

- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á `lab_session.dart` model ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á `lab_item.dart` model ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï DatabaseService ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡∏£‡∏±‡∏ô build_runner ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á `lab_provider.dart` ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á `health_lab_tab.dart` ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á `lab_session_detail_screen.dart` ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á `add_lab_session_screen.dart` ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï `health_page.dart` ‡πÅ‡∏•‡πâ‡∏ß (5 tabs)
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á session ‡πÑ‡∏î‡πâ
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°/‡∏•‡∏ö item ‡πÑ‡∏î‡πâ

---

## ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ

```
lib/features/health/
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ lab_session.dart            ‚Üê NEW
‚îÇ   ‚îú‚îÄ‚îÄ lab_session.g.dart          ‚Üê GENERATED
‚îÇ   ‚îú‚îÄ‚îÄ lab_item.dart               ‚Üê NEW
‚îÇ   ‚îî‚îÄ‚îÄ lab_item.g.dart             ‚Üê GENERATED
‚îú‚îÄ‚îÄ providers/
‚îÇ   ‚îî‚îÄ‚îÄ lab_provider.dart           ‚Üê NEW
‚îî‚îÄ‚îÄ presentation/
    ‚îú‚îÄ‚îÄ health_page.dart            ‚Üê UPDATED (5 tabs)
    ‚îú‚îÄ‚îÄ health_lab_tab.dart         ‚Üê NEW
    ‚îú‚îÄ‚îÄ lab_session_detail_screen.dart ‚Üê NEW
    ‚îî‚îÄ‚îÄ add_lab_session_screen.dart ‚Üê NEW
```

---

## üîÆ Future Enhancement

- **AI ‡∏≠‡πà‡∏≤‡∏ô‡∏£‡∏π‡∏õ‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à:** ‡πÉ‡∏ä‡πâ Gemini Vision ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å‡∏£‡∏π‡∏õ
- **‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°:** ‡πÅ‡∏™‡∏î‡∏á chart ‡∏Ç‡∏≠‡∏á‡∏Ñ‡πà‡∏≤‡∏Ç‡πâ‡∏≤‡∏°‡∏Ñ‡∏£‡∏±‡πâ‡∏á
- **Name Matching:** ‡∏£‡∏ß‡∏°‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏ï‡πà‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏™‡∏¥‡πà‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ

‡πÑ‡∏õ **Step 21: Voice Input** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏™‡∏µ‡∏¢‡∏á
